<mat-drawer-container class="example-container" autosize>
    <mat-drawer #leftDrawer class="example-sidenav" mode="over">
        <div class="d-flex flex-column gap-2">
            <button mat-button class="w-100">Work Items</button>
            <button mat-button class="w-100">Boards</button>
            <button mat-button class="w-100">Boards</button>
        </div>
    </mat-drawer>

    <div class="container">
        <div class="d-flex justify-content-between align-items-center mt-3">
            <div class="title">Tasks Management</div>
            <div class="d-flex">
                <button mat-icon-button class="me-3" (click)="showFilter = !showFilter;"><mat-icon color="primary" fontSet="{{!showFilter ? 'material-icons-outlined' : '' }}">filter_alt</mat-icon></button>
                <button mat-flat-button (click)="addNewTask()">Add New Task</button>
            </div>
        </div>
        <mat-card *ngIf="showFilter" appearance="outlined" class="mt-3">
            <!-- <mat-card-content>
                <div class="d-flex justify-content-end">
                    <button mat-button [matMenuTriggerFor]="beforeMenu">Types</button>
                    <mat-menu #beforeMenu="matMenu" xPosition="before">
                        <div mat-menu-item *ngFor="let type of getTypes()">
                            <mat-checkbox color="primary">{{type}}</mat-checkbox>
                        </div>
                    </mat-menu>
                    <button mat-button [matMenuTriggerFor]="beforeMenu">Status</button>
                    <mat-menu #beforeMenu="matMenu" xPosition="before">
                        <div mat-menu-item *ngFor="let type of getTypes()">
                            <mat-checkbox color="primary">{{type}}</mat-checkbox>
                        </div>
                    </mat-menu>
                    <button mat-button [matMenuTriggerFor]="beforeMenu">Types</button>
                    <mat-menu #beforeMenu="matMenu" xPosition="before">
                        <div mat-menu-item *ngFor="let type of getTypes()">
                            <mat-checkbox color="primary">{{type}}</mat-checkbox>
                        </div>
                    </mat-menu>
                </div>
            </mat-card-content> -->
        </mat-card>
        <div class="row mt-3">
            <div class="col-md-4">
                <div>To Do</div>
                <div
                cdkDropList
                #todoList="cdkDropList"
                [cdkDropListData]="newData"
                [cdkDropListConnectedTo]="[inprogressList, doneList]"
                class="example-list"
                (cdkDropListDropped)="drop($event)">
                @for (toDo of newData; track toDo) {
                    <mat-card class="example-box d-flex justify-content-between align-items-center mt-2" cdkDrag appearance="outlined">
                        <mat-card-content class="w-100">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>{{toDo.name}}</div>
                            <button mat-icon-button (click)="deleteTask(toDo)"><mat-icon color="warn" fontSet="material-icons-outlined">close</mat-icon></button>
                            </div>
                        </mat-card-content>
                    </mat-card>
                }
                </div>
            </div>
            <div class="col-md-4">
                <div>In Progress</div>
                <div
                cdkDropList
                #inprogressList="cdkDropList"
                [cdkDropListData]="onGoingData"
                [cdkDropListConnectedTo]="[doneList, todoList]"
                class="example-list"
                (cdkDropListDropped)="drop($event)">
                @for (toDo of onGoingData; track toDo) {
                    <div class="example-box" cdkDrag>{{toDo.name}}</div>
                }
                </div>
            </div>
            <div class="col-md-4">
                <div>Done</div>
                <div
                cdkDropList
                #doneList="cdkDropList"
                [cdkDropListData]="doneData"
                [cdkDropListConnectedTo]="[inprogressList, todoList]"
                class="example-list"
                (cdkDropListDropped)="drop($event)">
                @for (done of doneData; track done) {
                    <div class="example-box" cdkDrag>{{done.name}}</div>
                }
                </div>
            </div>
        </div>
    </div>
    <button mat-fab color="primary" class="btn-add-fab"><mat-icon>add</mat-icon></button>
</mat-drawer-container>
